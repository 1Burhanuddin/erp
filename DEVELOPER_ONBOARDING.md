# Developer Onboarding Guide

**Welcome to the ERP Project!** ðŸ‘‹  
This document will guide you through the architecture, the "why" and "how" of our system, and what you need to know about specific folders like `asvac`.

---

## 1. Project Overview: "One Database, Two Frontends"
We are building a unified system that acts as both the **Backend ERP** for the company and the **Online Store** for customers.

### The Problem We Solve
Most businesses buy one software for Billing (POS), one for Inventory, and another for their Website. They never talk to each other.
**Our Solution:** Real-time sync. When a cashier sells an item in the store, it instantly disappears from the website stock.

### The Two Interfaces
1.  **ERP Dashboard (`/`)**: 
    *   **Who uses it:** Admin, Staff, Warehouse Managers.
    *   **What it does:** Sales Orders, Purchase Orders, Employee Tasks, Reports.
    *   **Key Tech:** Protected Routes, Complex Forms, High Density Tables.
2.  **Demo Shop (`/shop-preview`)**:
    *   **Who uses it:** Public Customers.
    *   **What it does:** Browse Products, Add to Cart, Checkout.
    *   **Key Tech:** Public Data Fetching, Mobile-First UI.

---

## 2. Technical Stack
We use a modern, serverless stack. You don't need to run a backend server.

*   **Database & Auth**: **Supabase** (PostgreSQL).
    *   *Rule:* We use Row Level Security (RLS). Never turn it off.
*   **Frontend**: **React** (Vite) + **TypeScript**.
*   **State Management**:
    *   **Server Data**: `React Query` hooks (in `src/api/`). *Always use these.*
    *   **UI State**: `Redux Toolkit` (Cart, Sidebar).
*   **Styling**: **Tailwind CSS** + **Shadcn UI**.

---

## 3. Repository Structure & 'asvac'
You will notice a folder named **`asvac`** in the root.

### -> What is `asvac`?
*   **Status:** *[External / Legacy Submodule]*
*   **Description:** This appears to be a separate project or a previous iteration that was cloned into this repository. It has its own `package.json`, `vite.config.ts`, and git history.
*   **Instruction:** **Do not touch this folder** unless explicitly instructed. It does not interact with the main `src/` code. Focus your work strictly within the root `src/` directory.

### -> Main Directory Map
```text
/src
  /api          -> All Supabase hooks (useReports, useProducts).
  /components   -> Reusable UI (Buttons, Cards, Layouts).
  /pages        -> Route Components.
     /demo-shop -> The Public E-commerce Website code.
     /sales     -> ERP Sales Module.
     /purchase  -> ERP Purchase Module.
  /types        -> Database Types (Autogenerated).
```

---

## 4. How We Work (The Rules)

### 1. Database Changes
If you need a new column (e.g., `is_vip` on `customers`):
1.  Create a migration file in `supabase/migrations/`.
2.  Run the SQL in the Supabase Dashboard SQL Editor (or local CLI).
3.  **Update Types:** You MUST update `src/types/database.ts` so TypeScript knows about it.

### 2. Code Style
*   **No File Clutter:** Don't create random files. If it's a page, put it in `pages/`. If it's a hook, `api/`.
*   **Mobile First:** The ERP is used on phones by staff. Always check your UI on mobile size.

### 3. Your First Task
Check the **[MASTER_ROADMAP.md](MASTER_ROADMAP.md)** file.
1.  Find a task in the "Task Log" that is unassigned.
2.  Write your name next to it: `[ ] Done by: YourName`.
3.  Start coding!

---

## 5. Quick Start
```bash
npm install        # Install dependencies
npm run dev        # Start the development server
```
*Login details for local dev are in `.env` or ask Burhanuddin.*
